Metadata-Version: 2.4
Name: hephaestus
Version: 0.1.0
Summary: HEPHAESTUS – PDF board-game component extraction system
Author-email: HEPHAESTUS Team <team@hephaestus.dev>
Requires-Python: >=3.11
Description-Content-Type: text/markdown
Requires-Dist: pymupdf>=1.24.0
Requires-Dist: Pillow>=10.0.0
Requires-Dist: typer[all]>=0.12.0
Provides-Extra: dev
Requires-Dist: pytest>=8.0.0; extra == "dev"
Requires-Dist: hypothesis>=6.0.0; extra == "dev"
Requires-Dist: black>=24.0.0; extra == "dev"
Requires-Dist: ruff>=0.5.0; extra == "dev"
Requires-Dist: mypy>=1.10.0; extra == "dev"

# HEPHAESTUS – PDF Component Extraction System

HEPHAESTUS is a modular system that extracts board-game components from rulebook PDFs. It processes PDF documents to identify, extract, and organize component images with structured metadata output.

## Features (Phase 1)

- **PDF Ingestion**: Robust PDF parsing with error handling for corrupted and encrypted files
- **Image Extraction**: Extract embedded raster images from PDF pages
- **Smart Filtering**: Configurable size-based filtering to exclude decorative elements
- **Stable Output**: Deterministic naming and PNG export with structured organization
- **CLI Interface**: Simple command-line tool with comprehensive options

## Installation

### Requirements

- Python 3.11 or higher
- Windows, macOS, or Linux

### Install from source

```bash
git clone https://github.com/your-org/HEPHAESTUS.git
cd HEPHAESTUS
pip install -e ".[dev]"
```

## Usage

### Basic extraction

```bash
hephaestus extract rulebook.pdf
```

### Advanced options

```bash
hephaestus extract rulebook.pdf \
  --out ./extracted_components \
  --min-width 100 \
  --min-height 100
```

### CLI Options

- `--out, -o`: Output directory (default: `./output`)
- `--min-width`: Minimum image width in pixels (default: 50)
- `--min-height`: Minimum image height in pixels (default: 50)
- `--help`: Show help and usage information

## Development

### Setup development environment

```bash
pip install -e ".[dev]"
```

### Run tests

```bash
pytest
```

### Code quality

```bash
black src tests
ruff check src tests
mypy src
```

## Architecture

HEPHAESTUS follows a modular pipeline architecture:

1. **PDF Ingestion** (`pdf/ingestion.py`) - Document parsing and validation
2. **Image Extraction** (`pdf/images.py`) - Embedded image extraction and filtering
3. **File Output** - PNG conversion and structured file organization
4. **CLI Interface** (`cli.py`) - Command-line user interface

## Future Phases

- **AI Classification**: Distinguish component images from decorative content
- **Spatial Text Analysis**: Associate text labels with nearby images
- **Deduplication**: Remove visually similar duplicate images
- **Structured Manifest**: JSON output with complete component metadata
- **Web Interface**: Visual review and editing interface

## License

MIT License - see LICENSE file for details
